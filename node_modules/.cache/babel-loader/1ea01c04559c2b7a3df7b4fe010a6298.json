{"ast":null,"code":"import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { ALBUM_STATUS } from 'src/app/albumstatus/albumstatus.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"src/app/album/album.service\";\nimport * as i4 from \"../collector.service\";\nimport * as i5 from \"@angular/common\";\nvar I18N_0;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_4467726343329143481$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS_1 = goog.getMsg(\"Add album to collector\");\n  I18N_0 = MSG_EXTERNAL_4467726343329143481$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS_1;\n} else {\n  I18N_0 = \"Agregar album a coleccionista\";\n}\n\nvar I18N_2;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_3010162541446496339$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS_3 = goog.getMsg(\" Prize* \");\n  I18N_2 = MSG_EXTERNAL_3010162541446496339$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS_3;\n} else {\n  I18N_2 = \"Precio*\";\n}\n\nvar I18N_4;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_5890396524236186467$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS_5 = goog.getMsg(\" Status* \");\n  I18N_4 = MSG_EXTERNAL_5890396524236186467$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS_5;\n} else {\n  I18N_4 = \"Estado*\";\n}\n\nvar I18N_6;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_1133441017754767841$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS_7 = goog.getMsg(\"* Required fields\");\n  I18N_6 = MSG_EXTERNAL_1133441017754767841$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS_7;\n} else {\n  I18N_6 = \"* Campos requeridos\";\n}\n\nvar I18N_8;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_2159130950882492111$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS_9 = goog.getMsg(\"Cancel\");\n  I18N_8 = MSG_EXTERNAL_2159130950882492111$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS_9;\n} else {\n  I18N_8 = \"Cancelar\";\n}\n\nvar I18N_10;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_5674286808255988565$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS_11 = goog.getMsg(\"Create\");\n  I18N_10 = MSG_EXTERNAL_5674286808255988565$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS_11;\n} else {\n  I18N_10 = \"Crear\";\n}\n\nvar I18N_12;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_5266720707852306899$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS__13 = goog.getMsg(\" Required price \");\n  I18N_12 = MSG_EXTERNAL_5266720707852306899$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS__13;\n} else {\n  I18N_12 = \"Precio requerido\";\n}\n\nfunction CollectorAlbumCreateComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵi18n(1, I18N_12);\n    i0.ɵɵelementEnd();\n  }\n}\n\nvar I18N_14;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_2648073888530005723$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS__15 = goog.getMsg(\" Price must be greater than zero \");\n  I18N_14 = MSG_EXTERNAL_2648073888530005723$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS__15;\n} else {\n  I18N_14 = \"Precio tiene que ser mayor a cero\";\n}\n\nfunction CollectorAlbumCreateComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵi18n(1, I18N_14);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CollectorAlbumCreateComponent_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const album_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", album_r6.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", album_r6.name, \" \");\n  }\n}\n\nvar I18N_16;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_1484555027048374144$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS__17 = goog.getMsg(\" Required album \");\n  I18N_16 = MSG_EXTERNAL_1484555027048374144$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS__17;\n} else {\n  I18N_16 = \"\\xC1lbum requerido\";\n}\n\nfunction CollectorAlbumCreateComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵi18n(1, I18N_16);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CollectorAlbumCreateComponent_option_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const status_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", status_r7.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", status_r7.name, \" \");\n  }\n}\n\nvar I18N_18;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_8532700421639131498$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS__19 = goog.getMsg(\" Required status \");\n  I18N_18 = MSG_EXTERNAL_8532700421639131498$$SRC_APP_COLLECTOR_COLLECTOR_ALBUM_CREATE_COLLECTOR_ALBUM_CREATE_COMPONENT_TS__19;\n} else {\n  I18N_18 = \"Estado requerido\";\n}\n\nfunction CollectorAlbumCreateComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵi18n(1, I18N_18);\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class CollectorAlbumCreateComponent {\n  constructor(formBuilder, toastr, albumService, collectorService) {\n    this.formBuilder = formBuilder;\n    this.toastr = toastr;\n    this.albumService = albumService;\n    this.collectorService = collectorService;\n    this.albums_statuses = [];\n    this.album_trad = {\n      \"ACTIVE\": {\n        \"name\": \"Activo\",\n        \"value\": \"Active\"\n      },\n      \"INACTIVE\": {\n        \"name\": \"Inactivo\",\n        \"value\": \"Inactive\"\n      }\n    };\n    this.returnEvent = new EventEmitter();\n  }\n\n  ngOnInit() {\n    this.albumService.getAlbums().subscribe(albums => {\n      this.albums = albums;\n    });\n\n    for (let value in ALBUM_STATUS) {\n      this.albums_statuses.push({\n        \"value\": this.album_trad[value]['value'],\n        \"name\": this.album_trad[value]['name']\n      });\n    }\n\n    this.collectorAlbumForm = this.formBuilder.group({\n      album: ['', Validators.required],\n      status: ['', Validators.required],\n      price: ['', [Validators.required, Validators.min(0.1)]]\n    });\n  }\n\n  createCollectorAlbum(collectorAlbum) {\n    // Process checkout data here\n    this.showSuccess(collectorAlbum);\n    console.log(collectorAlbum);\n    this.collectorService.createCollectorAlbum(this.collectorId, collectorAlbum.album, collectorAlbum.price, collectorAlbum.status).subscribe(response => {\n      console.log(response);\n      this.emitReturnEvent();\n    });\n    this.collectorAlbumForm.reset();\n  }\n\n  showSuccess(c) {\n    this.toastr.success('Creado exitosamente!', `Album`, {\n      \"progressBar\": true,\n      timeOut: 4000\n    });\n  }\n\n  cancelCreation() {\n    console.log(\"Cancelando ...\");\n    this.collectorAlbumForm.reset();\n    this.emitReturnEvent();\n  }\n\n  emitReturnEvent() {\n    this.returnEvent.emit(false);\n  }\n\n}\n\nCollectorAlbumCreateComponent.ɵfac = function CollectorAlbumCreateComponent_Factory(t) {\n  return new (t || CollectorAlbumCreateComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.AlbumService), i0.ɵɵdirectiveInject(i4.CollectorService));\n};\n\nCollectorAlbumCreateComponent.ɵcmp = i0.ɵɵdefineComponent({\n  type: CollectorAlbumCreateComponent,\n  selectors: [[\"app-collector-album-create\"]],\n  inputs: {\n    collectorId: \"collectorId\"\n  },\n  outputs: {\n    returnEvent: \"returnEvent\"\n  },\n  decls: 34,\n  vars: 8,\n  consts: [[1, \"container-fluid\"], [1, \"col\", \"p-3\"], [1, \"h3\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\", \"mx-sm-3\", \"mb-2\"], [\"for\", \"precio\"], [\"novalidate\", \"\", \"id\", \"precio\", \"formControlName\", \"price\", \"placeholder\", \"Precio\", \"type\", \"number\", 1, \"form-control\"], [\"class\", \"alert alert-danger alert-dismissible fade show\", 4, \"ngIf\"], [\"for\", \"album\"], [\"formControlName\", \"album\", \"id\", \"album\", 1, \"form-select\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"status\"], [\"formControlName\", \"status\", \"id\", \"status\", 1, \"form-select\"], [1, \"m-3\", \"small\"], [2, \"float\", \"right\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"alert\", \"alert-danger\", \"alert-dismissible\", \"fade\", \"show\"], [3, \"value\"]],\n  template: function CollectorAlbumCreateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵi18n(3, I18N_0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function CollectorAlbumCreateComponent_Template_form_ngSubmit_4_listener() {\n        return !ctx.collectorAlbumForm.invalid && ctx.createCollectorAlbum(ctx.collectorAlbumForm.value);\n      });\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelementStart(6, \"label\", 5);\n      i0.ɵɵi18n(7, I18N_2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 6);\n      i0.ɵɵtemplate(9, CollectorAlbumCreateComponent_div_9_Template, 2, 0, \"div\", 7);\n      i0.ɵɵtemplate(10, CollectorAlbumCreateComponent_div_10_Template, 2, 0, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 4);\n      i0.ɵɵelementStart(12, \"label\", 8);\n      i0.ɵɵtext(13, \" Album* \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"select\", 9);\n      i0.ɵɵtemplate(15, CollectorAlbumCreateComponent_option_15_Template, 2, 2, \"option\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(16, CollectorAlbumCreateComponent_div_16_Template, 2, 0, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 4);\n      i0.ɵɵelementStart(18, \"label\", 11);\n      i0.ɵɵi18n(19, I18N_4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"select\", 12);\n      i0.ɵɵtemplate(21, CollectorAlbumCreateComponent_option_21_Template, 2, 2, \"option\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(22, CollectorAlbumCreateComponent_div_22_Template, 2, 0, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 13);\n      i0.ɵɵelementStart(24, \"p\");\n      i0.ɵɵi18n(25, I18N_6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 14);\n      i0.ɵɵelementStart(27, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function CollectorAlbumCreateComponent_Template_button_click_27_listener() {\n        return ctx.cancelCreation();\n      });\n      i0.ɵɵi18n(28, I18N_8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(29, \"\\u00A0 \");\n      i0.ɵɵelementStart(30, \"button\", 16);\n      i0.ɵɵi18n(31, I18N_10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"br\");\n      i0.ɵɵelement(33, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.collectorAlbumForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.collectorAlbumForm.get(\"price\").hasError(\"required\") && ctx.collectorAlbumForm.get(\"price\").touched);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.collectorAlbumForm.get(\"price\").hasError(\"min\") && ctx.collectorAlbumForm.get(\"price\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.albums);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.collectorAlbumForm.get(\"album\").hasError(\"required\") && ctx.collectorAlbumForm.get(\"album\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.albums_statuses);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.collectorAlbumForm.get(\"status\").hasError(\"required\") && ctx.collectorAlbumForm.get(\"status\").touched);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"disabled\", !ctx.collectorAlbumForm.valid);\n    }\n  },\n  directives: [i1.ɵangular_packages_forms_forms_y, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.FormControlName, i5.NgIf, i1.SelectControlValueAccessor, i5.NgForOf, i1.NgSelectOption, i1.ɵangular_packages_forms_forms_x],\n  encapsulation: 2\n});\n/*@__PURE__*/\n\n(function () {\n  i0.ɵsetClassMetadata(CollectorAlbumCreateComponent, [{\n    type: Component,\n    args: [{\n      selector: 'app-collector-album-create',\n      templateUrl: './collector-album-create.component.html'\n    }]\n  }], function () {\n    return [{\n      type: i1.FormBuilder\n    }, {\n      type: i2.ToastrService\n    }, {\n      type: i3.AlbumService\n    }, {\n      type: i4.CollectorService\n    }];\n  }, {\n    collectorId: [{\n      type: Input\n    }],\n    returnEvent: [{\n      type: Output\n    }]\n  });\n})();","map":{"version":3,"sources":["/home/ayrtonpc/AngularProjects/202112_Equipo_24/src/app/collector/collector-album-create/collector-album-create.component.ts","/home/ayrtonpc/AngularProjects/202112_Equipo_24/src/app/collector/collector-album-create/collector-album-create.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ToastrService } from 'ngx-toastr';\nimport { AlbumService } from 'src/app/album/album.service';\nimport { AlbumDetail } from 'src/app/album/albumdetail';\nimport { ALBUM_STATUS } from 'src/app/albumstatus/albumstatus.enum';\nimport { CollectorAlbum } from 'src/app/collectoralbum/collectoralbum';\nimport { CollectorService } from '../collector.service';\n\n@Component({\n  selector: 'app-collector-album-create',\n  templateUrl: './collector-album-create.component.html',\n})\nexport class CollectorAlbumCreateComponent implements OnInit {\n  @Input() collectorId: number;\n  albums: AlbumDetail[];\n  albums_statuses: any[] = []\n  collectorAlbumForm: FormGroup;\n  album_trad = {\n    \"ACTIVE\" : { \"name\" : \"Activo\", \"value\" : \"Active\"},\n    \"INACTIVE\" : {\"name\" : \"Inactivo\", \"value\" : \"Inactive\"}\n  }\n  @Output() returnEvent = new EventEmitter<boolean>();\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private toastr: ToastrService,\n    private albumService: AlbumService,\n    private collectorService: CollectorService\n  ) {}\n\n  ngOnInit(): void {\n    this.albumService.getAlbums().subscribe((albums) => {\n      this.albums = albums;\n    });\n\n    for(let value in ALBUM_STATUS){\n      this.albums_statuses.push({\n        \"value\" : this.album_trad[value]['value'],\n        \"name\" : this.album_trad[value]['name']\n      });\n    }\n\n    this.collectorAlbumForm = this.formBuilder.group({\n      album: ['', Validators.required],\n      status: ['', Validators.required],\n      price: ['', [Validators.required, Validators.min(0.1)] ]\n    });\n  }\n\n  createCollectorAlbum(collectorAlbum: any) {\n    // Process checkout data here\n    this.showSuccess(collectorAlbum);\n    console.log(collectorAlbum)\n    this.collectorService.createCollectorAlbum(this.collectorId, collectorAlbum.album,\n      collectorAlbum.price, collectorAlbum.status).subscribe(\n        response => { console.log(response); this.emitReturnEvent(); }\n      )\n    this.collectorAlbumForm.reset();\n  }\n\n  showSuccess(c: any) {\n    this.toastr.success('Creado exitosamente!', `Album`, { \"progressBar\": true, timeOut: 4000 });\n  }\n\n  cancelCreation() {\n    console.log(\"Cancelando ...\");\n    this.collectorAlbumForm.reset();\n    this.emitReturnEvent();\n  }\n\n  emitReturnEvent(){\n    this.returnEvent.emit(false);\n  }\n}\n","<div class=\"container-fluid\">\n  <div class=\"col p-3\">\n    <div class=\"h3\" i18n>Add album to collector</div>\n    <form\n      [formGroup]=\"collectorAlbumForm\"\n      (ngSubmit)=\"\n        !collectorAlbumForm.invalid &&\n          createCollectorAlbum(collectorAlbumForm.value)\n      \"\n    >\n      <div class=\"form-group mx-sm-3 mb-2\">\n        <label for=\"precio\" i18n> Prize* </label>\n        <input\n          novalidate\n          id=\"precio\"\n          class=\"form-control\"\n          formControlName=\"price\"\n          placeholder=\"Precio\"\n          type=\"number\"\n        />\n        <div\n          class=\"alert alert-danger alert-dismissible fade show\"\n          *ngIf=\"\n            collectorAlbumForm.get('price').hasError('required') &&\n            collectorAlbumForm.get('price').touched\n          \"\n          i18n >\n          Required price\n        </div>\n        <div\n          class=\"alert alert-danger alert-dismissible fade show\"\n          *ngIf=\"\n            collectorAlbumForm.get('price').hasError('min') &&\n            collectorAlbumForm.get('price').touched\n          \"\n          i18n >\n          Price must be greater than zero\n        </div>\n      </div>\n\n      <div class=\"form-group mx-sm-3 mb-2\">\n        <label for=\"album\"> Album* </label>\n        <select formControlName=\"album\" id=\"album\" class=\"form-select\">\n          <option *ngFor=\"let album of albums\" [value]=\"album.id\">\n            {{ album.name }}\n          </option>\n        </select>\n\n        <div\n          class=\"alert alert-danger alert-dismissible fade show\"\n          *ngIf=\"\n            collectorAlbumForm.get('album').hasError('required') &&\n            collectorAlbumForm.get('album').touched\n          \"\n          i18n>\n          Required album\n        </div>\n      </div>\n\n      <div class=\"form-group mx-sm-3 mb-2\">\n        <label for=\"status\" i18n> Status* </label>\n        <select formControlName=\"status\" id=\"status\" class=\"form-select\">\n          <option *ngFor=\"let status of albums_statuses\" [value]=\"status.value\">\n            {{ status.name }}\n          </option>\n        </select>\n\n        <div\n          class=\"alert alert-danger alert-dismissible fade show\"\n          *ngIf=\"\n            collectorAlbumForm.get('status').hasError('required') &&\n            collectorAlbumForm.get('status').touched\n          \"\n          i18n>\n          Required status\n        </div>\n      </div>\n\n      <div class=\"m-3 small\">\n        <p i18n>* Required fields</p>\n      </div>\n\n      <div style=\"float: right;\">\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"cancelCreation()\" i18n>Cancel</button>&nbsp;\n        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"!collectorAlbumForm.valid\" i18n>Create</button>\n      </div>\n      <br><br>\n    </form>\n  </div>\n</div>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}